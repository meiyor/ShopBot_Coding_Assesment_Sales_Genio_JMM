# ShopBot_Coding_Assesment_Sales_Genio_JMM
This is an evaluation of Flask powered API using a GPT-4o endpoint. This ShopBot is dedicated for providing information about customized (generated) Mock JSON catalogs.

First install the requirements in a previously loaded using this. Be sure you have your environment installed referred to **Python version 3.12.1**.

```python
   pip install -r requirements.txt
```

Remember to first configure the API release installing the **postgresql** package.

```bash
apt install postgresql postgresql-*
```
Remember that this command will install the **postgresql** version associated to the latest (or currently installed) Linux distribution in your machine.

Subsequently, you must configure the database to do queries from the **fastAPI** session. Then, you need to modify the files on this absolute paths in Ubuntu:

- **/etc/postgresql/16/main/pg_hba.conf**
- **/etc/postgresql/16/main/postgresql.conf**

Take into account that this path will be different for another Linux distros, as well as for Mac and Windows. Search for the absolute locations of those files in your corresponding OS.

In the **pg_hba.conf** file you must change the line 118 and change the defaul method from **peer** to **md5**. 

![image](https://github.com/user-attachments/assets/d0a89b51-a783-4581-888d-efc558ff88ce)

And for the **postgresql.conf** you must change the line 60 - uncommenting the line and changing the word  **localhost** for a * (asterisc symbol). This will allow the databse to read any IP not only the localhost.

![image](https://github.com/user-attachments/assets/0029c50f-4ae6-4bdb-ab01-f940603ad1dc)

After you modify this files and the corresponding please restart the **postgresql** service

```bash
service postgresql restart
```

You can, then, create the database associated to the default user **postgres** and set the password for the posgresql database. For this, we must first go to the **psql** terminal using the following command

```bash
sudo -u postgres psql
```

Next, we must set the password, for this particular case, the password is **DataBase** but you can set your own password for convinience and parse it as an environment variable for security reasons. So you need to run the following command from the psql terminal.

```bash
ALTER USER postgres PASSWORD 'Password';
```

Now, from outside the psql terminal, and being on your root terminal you must create the database name associated to the **postgres** like this. For this particular case this database is called **Shopdb**.

```bash
createdb -U postgres Shopdb;
```
You can finish the postgresql configuration just restarting the service again. Then, you are ready to deploy the API from the local Python environment.

Now you must run the **app.py** code just invoking the Python command as follows

```bash
python app.py
```

After you run this main invoking code be sure that this API is running on the local address **127.0.0.1/8000** IP address ansd port. Be sure your terminal show the following verbose
![image](https://github.com/user-attachments/assets/9d934b82-bf05-4d77-871d-424dd28addac)

Subsequently go to that specific IP in any web-browser and you will see this after you get log with any usernam and password. You can use whatever. Following the API logic the **Mock catalog** will be generated by gpt-4o as a json array
![image](https://github.com/user-attachments/assets/76e48260-319b-497a-a192-b0c071f9974e)

You can see in console the example of each **Mock catalog** that is generated each time you run a new API session. From the browser or from the console. This what you must see in the console
![image](https://github.com/user-attachments/assets/eec3dcd2-306f-4c2c-aeca-16d4f622f303)

The **Mock catalog** will be generated with a random size between 2 and 15 different products. We are depending, ofc, in the way how the gpt-4o assistant is defining what type of **product_names** will be on a typical **Mock catalog**. 

Then after you interact with **ShopBot** you must refer to a complete string or substring related to the list **product_names** in the generated catalog, when a successful query is done, you must see something like this.

![image](https://github.com/user-attachments/assets/8c09b2d6-560b-47ff-8217-f40d3ade8391)
![image](https://github.com/user-attachments/assets/77934b62-1eeb-4673-9d9c-65c2fdaf4a61)

You can then check the **postgresql** to check the different registers obtained in the interaction and product tables insde **Shopdb**. 

![image](https://github.com/user-attachments/assets/25fd1a5e-db7d-42e8-a514-92fbf3eb78df)
![image](https://github.com/user-attachments/assets/208cf5fa-58ac-4c41-b1b2-57be4dde0234)


For general information about how to use the this API and the code, please check this explanatory video [https://drive.google.com/file/d/13GNCuubAO7gFk7jnhEOUeOYYFv5kOylb/view?usp=sharing](https://drive.google.com/file/d/13GNCuubAO7gFk7jnhEOUeOYYFv5kOylb/view?usp=sharing).
